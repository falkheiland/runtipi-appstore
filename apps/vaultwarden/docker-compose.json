{
  "$schema": "https://raw.githubusercontent.com/runtipi/runtipi-appstore/refs/heads/master/apps/dynamic-compose-schema.json",
  "services": [
    {
      "name": "vaultwarden",
      "image": "ghcr.io/dani-garcia/vaultwarden:1.34.1",
      "internalPort": 80,
      "isMain": true,
      "volumes": [
        {
          "hostPath": "${APP_DATA_DIR}/data",
          "containerPath": "/data"
        }
      ],
      "environment": {
        "WEBSOCKET_ENABLED": "true",
        "DOMAIN": "${APP_PROTOCOL:-http}://${APP_DOMAIN}",
        "ADMIN_TOKEN": "${VAULTWARDEN_ADMIN_TOKEN}",
        "SIGNUPS_ALLOWED": "${VAULTWARDEN_SIGNUPS_ALLOWED:-true}",
        "INVITATIONS_ALLOWED": "${VAULTWARDEN_INVITATIONS_ALLOWED:-true}",
        "DISABLE_ADMIN_TOKEN": "${VAULTWARDEN_DISABLE_ADMIN_TOKEN:-false}",
        "SHOW_PASSWORD_HINT=false": "${VAULTWARDEN_SHOW_PASSWORD_HINT:-false}",
        "PASSWORD_ITERATIONS": "${VAULTWARDEN_PASSWORD_ITERATIONS:-600000}",
        "SMTP_HOST": "${VAULTWARDEN_SMTP_HOST}",
        "SMTP_FROM": "${VAULTWARDEN_SMTP_FROM:-vaultwarden@${APP_DOMAIN}}",
        "SMTP_PORT": "${VAULTWARDEN_SMTP_PORT:-587}",
        "SMTP_SECURITY": "${VAULTWARDEN_SMTP_SECURITY:-starttls}",
        "SMTP_USERNAME": "${VAULTWARDEN_SMTP_USERNAME}",
        "SMTP_PASSWORD": "${VAULTWARDEN_SMTP_PASSWORD}",
        "SMTP_FROM_NAME": "${VAULTWARDEN_SMTP_FROM_NAME:-Vaultwarden}"
      }
    }
  ]
}